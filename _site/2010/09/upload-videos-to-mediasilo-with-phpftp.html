<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Upload Videos To MediaSilo With PHP/FTP | Travis Berry</title>
    <meta name="author" content="Travis Berry">
    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://travisberry.heroku.com/feed.rss" rel="alternate" title="RSS" type="application/rss+xml" />
    
    <link href="http://static.travisberry.com/sites/4ddebc054a2ab10001000007/theme/stylesheets/stylev2.css" media="screen" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    <!--[if lte IE 7]>
    ie
    <![endif]-->
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    </head>
      <body>
        <div id="topBar">
          
          <a href="http://localhost:4000/2011/05/create-github-gist-with-ruby.html"><img src="http://www.travisberry.com/wp-content/uploads/2011/05/gists.jpg" alt="Create GitHub Gist With Ruby" title="Create GitHub Gist With Ruby" width=20 height=20 /></a>
          
          <a href="http://localhost:4000/2011/05/write-text-anywhere-with-html5-canvas.html"><img src="http://www.travisberry.com/wp-content/uploads/2011/05/canvas.jpg" alt="Write Text Anywhere With HTML5 Canvas" title="Write Text Anywhere With HTML5 Canvas" width=20 height=20 /></a>
          
          <a href="http://localhost:4000/2011/03/a-day-in-the-life-of-me.html"><img src="http://static.travisberry.com/sites/4ddebc054a2ab10001000007/assets/4de4286bd48c1200010000c7/selfhomecrop2.jpg" alt="A Day In The Life Of Me" title="A Day In The Life Of Me" width=20 height=20 /></a>
          
          <a href="http://localhost:4000/2011/02/fast-cakephp-search-with-indextank.html"><img src="http://www.travisberry.com/wp-content/uploads/2011/02/indextank.jpg" alt="Fast CakePHP Search With IndexTank" title="Fast CakePHP Search With IndexTank" width=20 height=20 /></a>
          
          <a href="http://localhost:4000/2011/01/haml-sass-markdown-and-cakephp-oh-my.html"><img src="http://www.travisberry.com/wp-content/uploads/2011/01/haml-sass.jpg" alt="Haml, Sass, Markdown, and CakePHP - Oh My!" title="Haml, Sass, Markdown, and CakePHP - Oh My!" width=20 height=20 /></a>
          
          <a href="http://localhost:4000/2011/01/new-time-tracking-web-app-homkora.html"><img src="http://www.travisberry.com/wp-content/uploads/2011/01/homkora-cap.jpg" alt="New Time Tracking Web App - Homkora" title="New Time Tracking Web App - Homkora" width=20 height=20 /></a>
          
        </div>
        <div id="wrapper" class="container_12">
          <!--<header id="header" class="grid_12">
          <h1><a href="/">Travis Berry</a></h1>
        </header>--> <!-- end header -->
				<div id="content">     
				  <nav>
					  <ul id="menu" class="clearfix">
					    <li class="link on first last" id="home-link"><a href="/"><span></span>Home</a></li>
							<li class="link on first last" id="home-link"><a href="/blog.html"><span></span>Blog</a></li>
							<li class="link on first last" id="home-link"><a href="/work.html"><span></span>Work</a></li>
							<li class="link on first last" id="home-link"><a href="/contact.html"><span></span>Contact</a></li>
					  </ul>
					  <br class="clear" />
					</nav>
				  <!-- Show a "Please Upgrade" box to both IE7 and IE6 users (Edit to IE 6 if you just want to show it to IE6 users) - jQuery will load the content from js/ie.html into the div -->
				  <!--[if lte IE 7]>
				  <div class="ie grid_7"></div>
				  <![endif]-->
					<div id="post">
<p><a href="http://www.flickr.com/photos/spiesteleviv/3654728245/"><img src="http://www.travisberry.com/wp-content/uploads/2010/09/media_silo_pic.jpg" title="media_silo_pic" alt="" /></a>In continuing with my last post on <a href="http://www.travisberry.com/2010/09/upload-a-video-to-ooyala-with-php/">how to upload videos to Ooyala with PHP</a>, here is one for <a href="http://www.mediasilo.com/">MediaSilo</a>. This ones a little different though in that it uses FTP as opposed to an API to upload the videos.<!--more-->Alright, so let's get to the code.<code>&lt;?php //MediaSilo Information    $server = "upload.mediasilo.com";    $ftp_user_name = "YOUR MEDIASILO LOGIN NAME AND HOSTNAME(e.g NAMEHOSTNAME";    $ftp_user_pass = "YOUR MEDIASILO LOGIN PASSWORD";    $dest = "THE WORKSPACE YOU WANT TO UPLOAD TO";                                    //Video Folder Information    $source_folder = "FULL PATH TO FOLDER. NO TRAILING SLASH (e.g. /var/www/videofolder)";    //Grabs everything in the source folder. You may want to set a file type like, ($source_folder."/*.flv")    $sources = glob($source_folder."/*.*");                    //Connect to FTP    set_time_limit(0);    $connection = ftp_connect($server);    $login = ftp_login($connection, $ftp_user_name, $ftp_user_pass);    //Check connection    if (!$connection || !$login) {        die('Connection attempt failed!');    }                    //If there are no files, don't FTP to MediaSilo    if (empty($sources)) {        //Close the FTP connection        ftp_close($connection);        $fileUploadMessage = "No files selected for upload";        echo $fileUploadMessage;    }else{        //If there are files FTP them to MediaSilo        foreach ($sources as $source){            //Put each video file on FTP server            $upload = ftp_put($connection, $dest."/".basename($source) , $source, FTP_BINARY);            //Check upload status            //Display message            if (!$upload) {                echo "Cannot upload: ".basename($source)." &lt;br ?&gt;";            }else{                echo "Upload complete: ".basename($source)." &lt;br /&gt;";            }        }        //Close the FTP connection        ftp_close($connection);    //Videos should now be uploaded to MediaSilo    }?&gt;</code>The above code should be fairly easy to understand. The code just globs a folder of all files and loops through them, uploading each one. If you have any ideas on how to make this code better, or expand upon it, let me know in the comments.(One caveat to using FTP to upload to MediaSilo is that you do need to have at least a "Hollywood" level account, which is going to set you back $100 a month)<script>utmx_section("contact1")</script><div id="contactme"><div class="avatar"><img src="http://www.gravatar.com/avatar/c9e8248c1237949b66a735bed64ae841?s=32&amp;d=identicon&amp;r=G" alt="" /></div>I'm just a guy interested in all things design and web related. You should <a href="http://www.travisberry.com/contact/">contact me</a> about about this article, for freelance work, or for any reason.</div></p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>30 May 2011</span> &raquo; <a href="/2011/05/create-github-gist-with-ruby.html">Create GitHub Gist With Ruby</a></li>
    
      <li><span>26 May 2011</span> &raquo; <a href="/2011/05/write-text-anywhere-with-html5-canvas.html">Write Text Anywhere With HTML5 Canvas</a></li>
    
      <li><span>04 Mar 2011</span> &raquo; <a href="/2011/03/a-day-in-the-life-of-me.html">A Day In The Life Of Me</a></li>
    
  </ul>
</div>
				</div> <!-- end content -->
				<div class="clear"></div>
				<footer id="footer" class="grid_12">
				  <h1><a href="/">Travis Berry</a></h1>
				</footer> <!-- end footer -->
				<div class="clear"></div>
				</div> <!-- end wrapper -->
				</body>
				</html>